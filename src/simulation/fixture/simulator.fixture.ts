import type { ScenarioData, ActionNode } from "../compiler/types";
import { scenario } from "../compiler/fixture/scenario-2";

type LegacySimulatorFixture = {
  scenario: ScenarioData;
  actionNode: ActionNode[];
  spData: {
    time: number;
    sp: number;
  }[];
  staggerData: {
    points: { time: number; val: number }[];
    lockSegments: { start: number; end: number }[];
    nodeSegments: { start: number; end: number; nodeIndex: number }[];
    nodeStep: number;
  };
};

export const simulatorFixture1: LegacySimulatorFixture = {
  scenario: scenario,
  actionNode: [
    {
      trackId: "CHENQIANYU",
      trackIndex: 0,
      node: {
        id: "CHENQIANYU_attack",
        type: "attack",
        name: "重击",
        element: "physical",
        duration: 3.2,
        cooldown: 0,
        icon: "",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 0,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 3.2, sp: 18, stagger: 16 }],
        allowedTypes: [
          "conductive",
          "emag_attach",
          "emag_burst",
          "burning",
          "blaze_attach",
          "blaze_burst",
          "knockup",
          "break",
          "ice_shatter",
          "nature_attach",
          "corrosion",
          "nature_burst",
          "knockdown",
          "cold_attach",
          "frozen",
          "cold_burst",
          "stagger",
          "armor_break",
        ],
        physicalAnomaly: [],
        instanceId: "inst_83xf30r",
        logicalStartTime: 0,
        startTime: 0,
      },
      type: "action",
      id: "inst_83xf30r",
    },
    {
      trackId: "CHENQIANYU",
      trackIndex: 0,
      node: {
        id: "CHENQIANYU_skill",
        type: "skill",
        name: "战技",
        element: "physical",
        duration: 0.8,
        cooldown: 0,
        icon: "/avatars/CHENQIANYU/icon_skill_chen_01.png",
        spCost: 100,
        gaugeCost: 0,
        gaugeGain: 6.5,
        teamGaugeGain: 6.5,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 0.4, sp: 0, stagger: 10 }],
        allowedTypes: ["knockup", "break", "ice_shatter"],
        physicalAnomaly: [
          [
            {
              type: "break",
              stacks: 1,
              duration: 0,
              offset: 0.4,
              _id: "7380ey5",
            },
          ],
        ],
        instanceId: "inst_6wgpfl3",
        logicalStartTime: 3.2,
        startTime: 3.2,
      },
      type: "action",
      id: "inst_6wgpfl3",
    },
    {
      trackId: "CHENQIANYU",
      trackIndex: 0,
      node: {
        id: "CHENQIANYU_link",
        type: "link",
        name: "连携",
        element: "physical",
        duration: 0.9,
        cooldown: 16,
        icon: "/avatars/CHENQIANYU/icon_combo_skill_chen_01.png",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 10,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 0.56, sp: 0, stagger: 10 }],
        allowedTypes: ["knockup", "break", "ice_shatter"],
        physicalAnomaly: [
          [
            {
              type: "knockup",
              stacks: 2,
              duration: 0,
              offset: 0.56,
              _id: "y1byw3x",
            },
          ],
        ],
        instanceId: "inst_m4jt0hp",
        logicalStartTime: 4.4,
        startTime: 4.4,
      },
      type: "action",
      id: "inst_m4jt0hp",
    },
    {
      trackId: "CHENQIANYU",
      trackIndex: 0,
      node: {
        id: "CHENQIANYU_attack",
        type: "attack",
        name: "重击",
        element: "physical",
        duration: 3.2,
        cooldown: 0,
        icon: "",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 0,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 3.2, sp: 18, stagger: 16 }],
        allowedTypes: [
          "conductive",
          "emag_attach",
          "emag_burst",
          "burning",
          "blaze_attach",
          "blaze_burst",
          "knockup",
          "break",
          "ice_shatter",
          "nature_attach",
          "corrosion",
          "nature_burst",
          "knockdown",
          "cold_attach",
          "frozen",
          "cold_burst",
          "stagger",
          "armor_break",
        ],
        physicalAnomaly: [],
        instanceId: "inst_nxhwtu6",
        logicalStartTime: 5.9,
        startTime: 5.9,
      },
      type: "action",
      id: "inst_nxhwtu6",
    },
    {
      trackId: "CHENQIANYU",
      trackIndex: 0,
      node: {
        id: "CHENQIANYU_attack",
        type: "attack",
        name: "重击",
        element: "physical",
        duration: 3.2,
        cooldown: 0,
        icon: "",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 0,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 3.2, sp: 18, stagger: 16 }],
        allowedTypes: [
          "conductive",
          "emag_attach",
          "emag_burst",
          "burning",
          "blaze_attach",
          "blaze_burst",
          "knockup",
          "break",
          "ice_shatter",
          "nature_attach",
          "corrosion",
          "nature_burst",
          "knockdown",
          "cold_attach",
          "frozen",
          "cold_burst",
          "stagger",
          "armor_break",
        ],
        physicalAnomaly: [],
        instanceId: "inst_95ddgxo",
        logicalStartTime: 10.1,
        startTime: 10.1,
      },
      type: "action",
      id: "inst_95ddgxo",
    },
    {
      trackId: "CHENQIANYU",
      trackIndex: 0,
      node: {
        id: "CHENQIANYU_attack",
        type: "attack",
        name: "重击",
        element: "physical",
        duration: 3.2,
        cooldown: 0,
        icon: "",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 0,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 3.2, sp: 18, stagger: 16 }],
        allowedTypes: [
          "conductive",
          "emag_attach",
          "emag_burst",
          "burning",
          "blaze_attach",
          "blaze_burst",
          "knockup",
          "break",
          "ice_shatter",
          "nature_attach",
          "corrosion",
          "nature_burst",
          "knockdown",
          "cold_attach",
          "frozen",
          "cold_burst",
          "stagger",
          "armor_break",
        ],
        physicalAnomaly: [],
        instanceId: "inst_9u3lc19",
        logicalStartTime: 13.9,
        startTime: 13.9,
      },
      type: "action",
      id: "inst_9u3lc19",
    },
    {
      trackId: "CHENQIANYU",
      trackIndex: 0,
      node: {
        id: "CHENQIANYU_attack",
        type: "attack",
        name: "重击",
        element: "physical",
        duration: 3.2,
        cooldown: 0,
        icon: "",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 0,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 3.2, sp: 18, stagger: 16 }],
        allowedTypes: [
          "conductive",
          "emag_attach",
          "emag_burst",
          "burning",
          "blaze_attach",
          "blaze_burst",
          "knockup",
          "break",
          "ice_shatter",
          "nature_attach",
          "corrosion",
          "nature_burst",
          "knockdown",
          "cold_attach",
          "frozen",
          "cold_burst",
          "stagger",
          "armor_break",
        ],
        physicalAnomaly: [],
        instanceId: "inst_7d7vbcy",
        logicalStartTime: 17.8,
        startTime: 17.8,
      },
      type: "action",
      id: "inst_7d7vbcy",
    },
    {
      trackId: "CHENQIANYU",
      trackIndex: 0,
      node: {
        id: "CHENQIANYU_link",
        type: "link",
        name: "连携",
        librarySource: "character",
        element: "physical",
        duration: 0.9,
        cooldown: 16,
        icon: "/avatars/CHENQIANYU/icon_combo_skill_chen_01.webp",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 10,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [
          { offset: 0.56, sp: 0, stagger: 10, boundEffects: ["ebf42r1"] },
        ],
        allowedTypes: ["knockup", "break", "ice_shatter"],
        physicalAnomaly: [
          [
            {
              type: "knockup",
              stacks: 4,
              duration: 0,
              offset: 0.56,
              _id: "ebf42r1",
            },
          ],
        ],
        weaponId: null,
        instanceId: "inst_nejrrla",
        sourceWeaponId: null,
        logicalStartTime: 21.8,
        startTime: 21.8,
      },
      type: "action",
      id: "inst_nejrrla",
    },
    {
      trackId: "CHENQIANYU",
      trackIndex: 0,
      node: {
        id: "CHENQIANYU_execution",
        type: "execution",
        name: "处决",
        element: "physical",
        duration: 2.5,
        cooldown: 0,
        icon: "",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 0,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [],
        allowedTypes: [
          "break",
          "blaze_attach",
          "burning",
          "blaze_burst",
          "emag_burst",
          "conductive",
          "emag_attach",
          "frozen",
          "cold_attach",
          "cold_burst",
          "ice_shatter",
          "corrosion",
          "nature_attach",
          "nature_burst",
          "knockdown",
          "knockup",
          "stagger",
          "armor_break",
        ],
        physicalAnomaly: [],
        instanceId: "inst_ai1qx5h",
        logicalStartTime: 23.4,
        startTime: 23.4,
      },
      type: "action",
      id: "inst_ai1qx5h",
    },
    {
      trackId: "ENDMINISTRATOR",
      trackIndex: 1,
      node: {
        id: "ENDMINISTRATOR_link",
        type: "link",
        name: "连携",
        element: "physical",
        duration: 1.2,
        cooldown: 16,
        icon: "/avatars/ENDMINISTRATOR/icon_combo_skill_endmin_01.png",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 10,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 0.8, sp: 0, stagger: 10 }],
        allowedTypes: ["endmin_debuff"],
        physicalAnomaly: [
          [
            {
              type: "endmin_debuff",
              stacks: 1,
              duration: 4,
              offset: 0.8,
              _id: "dsk6uom",
            },
          ],
        ],
        instanceId: "inst_kvvfl49",
        logicalStartTime: 8,
        startTime: 8,
        triggerWindow: 0,
      },
      type: "action",
      id: "inst_kvvfl49",
    },
    {
      trackId: "ENDMINISTRATOR",
      trackIndex: 1,
      node: {
        id: "ENDMINISTRATOR_link",
        type: "link",
        name: "连携",
        librarySource: "character",
        element: "physical",
        duration: 1.2,
        cooldown: 16,
        icon: "/avatars/ENDMINISTRATOR/icon_combo_skill_endmin_01.webp",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 10,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 0.8, sp: 0, stagger: 10, boundEffects: [] }],
        allowedTypes: ["endmin_debuff"],
        physicalAnomaly: [
          [],
          [
            {
              type: "endmin_debuff",
              stacks: 1,
              duration: 4,
              offset: 0.8,
              _id: "1mc98na",
            },
          ],
        ],
        weaponId: null,
        instanceId: "inst_74qhclh",
        sourceWeaponId: "wpn_sword_0021",
        logicalStartTime: 24.5,
        startTime: 24.5,
      },
      type: "action",
      id: "inst_74qhclh",
    },
    {
      trackId: "ENDMINISTRATOR",
      trackIndex: 1,
      node: {
        id: "ENDMINISTRATOR_skill",
        type: "skill",
        name: "战技",
        element: "physical",
        duration: 0.8,
        cooldown: 0,
        icon: "/avatars/ENDMINISTRATOR/icon_skill_endmin_01.png",
        spCost: 100,
        gaugeCost: 0,
        gaugeGain: 6.5,
        teamGaugeGain: 6.5,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 0.4, sp: 0, stagger: 10 }],
        allowedTypes: ["stagger", "break", "ice_shatter"],
        physicalAnomaly: [
          [
            {
              type: "stagger",
              stacks: 4,
              duration: 0,
              offset: 0.4,
              _id: "eqty05n",
            },
          ],
        ],
        instanceId: "inst_8ka0n5b",
        logicalStartTime: 26.5,
        startTime: 26.5,
      },
      type: "action",
      id: "inst_8ka0n5b",
    },
    {
      trackId: "ESTELLA",
      trackIndex: 2,
      node: {
        id: "ESTELLA_skill",
        type: "skill",
        name: "战技",
        element: "cold",
        duration: 2,
        cooldown: 0,
        icon: "/avatars/ESTELLA/icon_skill_whiten_01.png",
        spCost: 100,
        gaugeCost: 0,
        gaugeGain: 6.5,
        teamGaugeGain: 6.5,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 1, sp: 0, stagger: 10 }],
        allowedTypes: ["cold_burst", "frozen", "cold_attach"],
        physicalAnomaly: [
          [
            {
              _id: "csi188w",
              type: "frozen",
              stacks: 1,
              duration: 5,
              offset: 1,
              sp: 0,
              stagger: 0,
            },
          ],
          [
            {
              type: "cold_attach",
              stacks: 1,
              duration: 0,
              offset: 1,
              _id: "8y2460i",
            },
          ],
        ],
        instanceId: "inst_wi5a1dj",
        logicalStartTime: 13.3,
        startTime: 13.3,
      },
      type: "action",
      id: "inst_wi5a1dj",
    },
    {
      trackId: "ESTELLA",
      trackIndex: 2,
      node: {
        id: "ESTELLA_link",
        type: "link",
        name: "连携",
        element: "cold",
        duration: 2,
        cooldown: 15,
        icon: "/avatars/ESTELLA/icon_combo_skill_whiten_01.png",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 10,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 1, sp: 0, stagger: 10 }],
        allowedTypes: ["knockup", "break", "ice_shatter"],
        physicalAnomaly: [
          [
            {
              type: "ice_shatter",
              stacks: 1,
              duration: 0,
              offset: 1,
              _id: "eayh788",
            },
          ],
          [
            {
              type: "knockup",
              stacks: 3,
              duration: 0,
              offset: 1,
              _id: "v62886u",
            },
          ],
        ],
        instanceId: "inst_xywmm49",
        logicalStartTime: 18.5,
        startTime: 18.5,
      },
      type: "action",
      id: "inst_xywmm49",
    },
    {
      trackId: "AKEKURI",
      trackIndex: 3,
      node: {
        id: "AKEKURI_skill",
        type: "skill",
        name: "战技",
        element: "blaze",
        duration: 2,
        cooldown: 0,
        icon: "/avatars/AKEKURI/icon_skill_karin_01.png",
        spCost: 100,
        gaugeCost: 0,
        gaugeGain: 6.5,
        teamGaugeGain: 6.5,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 1.5, sp: 0, stagger: 10 }],
        allowedTypes: ["blaze_attach", "burning", "blaze_burst"],
        physicalAnomaly: [
          [
            {
              type: "blaze_attach",
              stacks: 1,
              duration: 0,
              offset: 1.5,
              _id: "4bp7z9w",
            },
          ],
        ],
        instanceId: "inst_hkc1ibd",
        logicalStartTime: 0,
        startTime: 0,
      },
      type: "action",
      id: "inst_hkc1ibd",
    },
    {
      trackId: "AKEKURI",
      trackIndex: 3,
      node: {
        id: "AKEKURI_link",
        type: "link",
        name: "连携",
        element: "blaze",
        duration: 2,
        cooldown: 15,
        icon: "/avatars/AKEKURI/icon_combo_skill_karin_01.png",
        spCost: 0,
        gaugeCost: 0,
        gaugeGain: 10,
        teamGaugeGain: 0,
        enhancementTime: 0,
        animationTime: 0,
        damageTicks: [{ offset: 1, sp: 0, stagger: 10 }],
        allowedTypes: [],
        physicalAnomaly: [],
        instanceId: "inst_ssjghlj",
        logicalStartTime: 21.5,
        startTime: 21.5,
      },
      type: "action",
      id: "inst_ssjghlj",
    },
  ],
  spData: [
    {
      time: 0,
      sp: 200,
    },
    {
      time: 0,
      sp: 100,
    },
    {
      time: 0.5,
      sp: 100,
    },
    {
      time: 3.2,
      sp: 121.6,
    },
    {
      time: 3.2,
      sp: 39.599999999999994,
    },
    {
      time: 3.7,
      sp: 39.599999999999994,
    },
    {
      time: 4.4,
      sp: 45.199999999999996,
    },
    {
      time: 4.9,
      sp: 45.199999999999996,
    },
    {
      time: 8,
      sp: 70,
    },
    {
      time: 8.5,
      sp: 70,
    },
    {
      time: 9.6,
      sp: 78.8,
    },
    {
      time: 9.6,
      sp: 96.8,
    },
    {
      time: 13.3,
      sp: 126.4,
    },
    {
      time: 13.3,
      sp: 44.400000000000006,
    },
    {
      time: 13.8,
      sp: 44.400000000000006,
    },
    {
      time: 17.1,
      sp: 70.80000000000001,
    },
    {
      time: 17.1,
      sp: 88.80000000000001,
    },
    {
      time: 18.5,
      sp: 100,
    },
    {
      time: 19,
      sp: 100,
    },
    {
      time: 21.5,
      sp: 120,
    },
    {
      time: 21.5,
      sp: 138,
    },
    {
      time: 21.8,
      sp: 138,
    },
    {
      time: 22.3,
      sp: 138,
    },
    {
      time: 24.5,
      sp: 155.6,
    },
    {
      time: 25,
      sp: 155.6,
    },
    {
      time: 26.4,
      sp: 166.79999999999998,
    },
    {
      time: 26.4,
      sp: 191.79999999999998,
    },
    {
      time: 26.5,
      sp: 192.6,
    },
    {
      time: 26.5,
      sp: 92.6,
    },
    {
      time: 27,
      sp: 92.6,
    },
    {
      time: 52.925,
      sp: 300,
    },
    {
      time: 120,
      sp: 300,
    },
  ],
  staggerData: {
    points: [
      {
        time: 0,
        val: 0,
      },
      {
        time: 1.5,
        val: 0,
      },
      {
        time: 1.5,
        val: 10,
      },
      {
        time: 3.2,
        val: 10,
      },
      {
        time: 3.2,
        val: 26,
      },
      {
        time: 3.6,
        val: 26,
      },
      {
        time: 3.6,
        val: 36,
      },
      {
        time: 4.96,
        val: 36,
      },
      {
        time: 4.96,
        val: 46,
      },
      {
        time: 8.8,
        val: 46,
      },
      {
        time: 8.8,
        val: 56,
      },
      {
        time: 9.6,
        val: 56,
      },
      {
        time: 9.6,
        val: 72,
      },
      {
        time: 13.3,
        val: 72,
      },
      {
        time: 13.3,
        val: 88,
      },
      {
        time: 14.3,
        val: 88,
      },
      {
        time: 14.3,
        val: 98,
      },
      {
        time: 17.1,
        val: 98,
      },
      {
        time: 17.1,
        val: 114,
      },
      {
        time: 19.5,
        val: 114,
      },
      {
        time: 19.5,
        val: 124,
      },
      {
        time: 21.5,
        val: 124,
      },
      {
        time: 21.5,
        val: 0,
      },
      {
        time: 21.5,
        val: 0,
      },
      {
        time: 22.36,
        val: 0,
      },
      {
        time: 22.36,
        val: 0,
      },
      {
        time: 23,
        val: 0,
      },
      {
        time: 23,
        val: 0,
      },
      {
        time: 25.3,
        val: 0,
      },
      {
        time: 25.3,
        val: 0,
      },
      {
        time: 26.9,
        val: 0,
      },
      {
        time: 26.9,
        val: 0,
      },
      {
        time: 120,
        val: 0,
      },
    ],
    lockSegments: [
      {
        start: 21.5,
        end: 32.8,
      },
    ],
    nodeSegments: [],
    nodeStep: 125,
  },
};
